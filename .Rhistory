)
overview_nominal(dep_data, depression_status, count_NA = TRUE)
8/25
# Esci one proportion - 8/22
estimate_pdiff_one(
comparison_cases = 8,
comparison_n = 22,
reference_p = 0.10
)
8/22
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
estimate
78/252
cases <- c(10, 20, 30)
ns <- (50, 55, 50)
ns <- c(50, 55, 50)
p <- cases/ns
p
constrast <- c(1, 0, 0)
sum(contrast*p)
contrast <- c(1, 0, 0)
sum(contrast*p)
contrast <- c(-1, 0, 0)
sum(contrast*p)
abs(sum(contrast*p))
sum(contrast*p)
contrast <- c(1/2, 1/2, 0)
sum(contrast*p)
library(esci4)
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
library(esci4)
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
cases/ns
constrast*(cases/ns)
library(esci4)
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
library(esci4)
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
estimate <- estimate_pdiff_ind_contrast(
cases = c(78, 10),
ns = c(252, 20),
case_label = "egocentric",
grouping_variable_levels = c("Replication", "Original"),
contrast = c(1, -1),
conf_level = 0.95
)
estimate
estimate <- estimate_pdiff_ind_contrast(
cases = c(10, 20, 30),
ns = c(50, 50, 50),
case_label = "Depressed",
grouping_variable_levels = c("Control", "Drug", "Therapy"),
contrast = c(-1, 1/2, 1/2)
)
my_outcome <- as.factor(
sample(
x = c("Depressed", "Not Depressed", "No Answer"),
size = 300,
replace = TRUE
)
)
my_group <- as.factor(
sample(
x = c("Drug", "Therapy", "Control"),
size = 300,
replace = TRUE
)
)
# Vector
estimate <- estimate_pdiff_ind_contrast(
outcome_variable = my_outcome,
grouping_variable = my_group,
contrast = c(1, 0, -1)
)
# Vector, different case label, named contrast
estimate <- estimate_pdiff_ind_contrast(
outcome_variable = my_outcome,
grouping_variable = my_group,
contrast = c("Control" = -1, "Therapy" = 1), case_label = "Not Depressed"
)
# Vector, NA in grouping variable
my_group[10:12] <- NA
estimate <- estimate_pdiff_ind_contrast(
outcome_variable = my_outcome,
grouping_variable = my_group,
contrast = c("Control" = -1, "Missing" = 1), case_label = "Not Depressed"
)
# Vector, NA in grouping variable
my_outcome[50:52] <- NA
estimate <- estimate_pdiff_ind_contrast(
outcome_variable = my_outcome,
grouping_variable = my_group,
contrast = c("Control" = -1, "Missing" = 1), case_label = "Not Depressed",
count_NA = TRUE
)
library(esci4)
# From summary data -------------------
estimate_pdiff_paired(
cases_consistent = 60,
cases_inconsistent = 50,
not_cases_consistent = 68,
not_cases_inconsistent = 22,
conf_level = 0.95
)
estimate_pdiff_paired(
cases_consistent = 60,
cases_inconsistent = 50,
not_cases_consistent = 68,
not_cases_inconsistent = 22,
case_label = "Answered True",
not_case_label = "Answered False",
comparison_measure_name = "9th grade",
reference_measure_name = "12th grade",
conf_level = 0.95
)
# From raw data, data frame -------------------
pre_test <- as.factor(
sample(
c("Depressed", "Not Depressed"),
size = 300,
replace = TRUE,
prob = c(0.75, 0.25)
)
)
post_test <- as.factor(
sample(
c("Depressed", "Not Depressed"),
size = 300,
replace = TRUE,
prob = c(0.25, 0.75)
)
)
d_treat <- data.frame(
"before" = pre_test,
"after" = post_test
)
estimate_pdiff_paired(
data = d_treat,
reference_measure = "before",
comparison_measure = "after"
)
# More than 2 levels -------------------
pre_test <- as.factor(
sample(
c("Depressed", "Not Depressed", "No Answer"),
size = 300,
replace = TRUE,
prob = c(0.65, 0.25, 0.10)
)
)
post_test <- as.factor(
sample(
c("Depressed", "Not Depressed", "No Answer"),
size = 300,
replace = TRUE,
prob = c(0.25, 0.65, 0.10)
)
)
d_treat <- data.frame(
"before" = pre_test,
"after" = post_test
)
estimate_pdiff_paired(
data = d_treat,
reference_measure = "before",
comparison_measure = "after",
case_label = "No Answer"
)
estimate_pdiff_paired(
data = d_treat,
reference_measure = "before",
comparison_measure = "after",
case_label = 3
)
library(esci4)
mtcars
? mtcars
datasets::AirPassengers
datasets::beaver1
library(help = "datasets")
datasets::OrchardSprays
statpsych::ci.cor2()
? statpsych::ci.cor2()
? statpsych::ci.cor()
? cor
library(esci4)
library(esci4)
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
conf_level
conf_level
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
res_difference
res_comparison
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
res_difference
res_difference
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
res_difference
res_comparison
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
# Summary example from esci, should give .046 and .665
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
# Summary example from esci, should give:
#  comparison r 95% CI [.286, .709]
#  reference r 95% CI [.172, .603]
#  difference .12 95% CI [-.191, .418]
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59
)
library(esci4)
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59,
grouping_variable_levels = c("Females", "Males"),
x_variable_name = "Satisfaction with life",
y_variable-name = "Body satisfaction",
grouping_variable_name = "Gender",
conf_level = .95
)
estimate_rdiff_two(
comparison_r = .53,
comparison_n = 45,
reference_r = .41,
reference_n = 59,
grouping_variable_levels = c("Females", "Males"),
x_variable_name = "Satisfaction with life",
y_variable_name = "Body satisfaction",
grouping_variable_name = "Gender",
conf_level = .95
)
myr2 <- data.frame(
thex = rnorm(n = 100),
they = rnorm(y = 100),
thegroup = sample(x = c("Men", "Women"), size = 100, replace = TRUE)
)
myr2 <- data.frame(
thex = rnorm(n = 100),
they = rnorm(n = 100),
thegroup = sample(x = c("Men", "Women"), size = 100, replace = TRUE)
)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
myr2 <- data.frame(
thex = rnorm(n = 100),
they = rnorm(n = 100),
thegroup = as.factor(sample(x = c("Men", "Women"), size = 100, replace = TRUE))
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
estimate$overview
data[[grouping_variable]]
data[[grouping_variable]] == level1
data1[ , c(x, y)]
!is.na(data1[ , c(x, y)]
)
crossprod(!is.na(data1[ , c(x, y)]))
crossprod(!is.na(data1[ , c(x, y)]))[1, 2]
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
estimate <- estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
library(esci4)
estimate <- estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
estimate_rdiff_two.summary(
comparison_r = comparison_r,
comparison_n = comparison_n,
reference_r = reference_r,
reference_n = reference_n,
grouping_variable_levels = c(level1, level2),
x_variable_name = x_variable_name,
y_variable_name = y_variable_name,
grouping_variable_name = grouping_variable_name,
conf_level = conf_level
)
library(esci4)
estimate <- estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
estimate$es_r
y_variable_name
library(esci4)
estimate <- estimate_rdiff_two(
myr2,
thex,
they,
thegroup
)
estimate
