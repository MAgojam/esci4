contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_r <- esci_single_r
bad_r[c(1, 10), "rvalues"] <- NA
estimate <- meta_r(
bad_r,
rvalues,
sample_size,
studies,
subsets,
contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_r <- esci_single_r
bad_r[c(1, 10), "rvalues"] <- 1.1
bad_r[c(1, 10), "rvalues"] <- NA
bad_r[c(1, 10), "sample_size"] <- 2.1
estimate <- meta_r(
bad_r,
rvalues,
sample_size,
studies,
subsets,
contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_r <- esci_single_r
bad_r[c(1, 10), "sample_size"] <- 2.1
bad_r[c(1, 10), "sample_size"] <- NA
estimate <- meta_r(
bad_r,
rvalues,
sample_size,
studies,
subsets,
contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_r <- esci_single_r
bad_r[c(1, 10), "sample_size"] <- 2.1
estimate <- meta_r(
bad_r,
rvalues,
sample_size,
studies,
subsets,
contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_r <- esci_single_r
bad_r[c(1, 10), "sample_size"] <- -1
estimate <- meta_r(
bad_r,
rvalues,
sample_size,
studies,
subsets,
contrast = c(0, 1, -1),
random_effects = FALSE,
conf_level = 0.99
)
statpsych::ci.prop1
? statpsych::ci.prop1
12/100
library(esci4)
esci_meta_proportion <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
egocentric = c(
33,
4,
4,
7
),
sample_size = c(
101,
33,
10,
53
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
estimate <- meta_proportion(
esci_meta_proportion,
egocentric,
sample_size,
studies
)
estimate$raw_data
estimate
estimate <- meta_proportion(
esci_meta_proportion,
egocentric,
sample_size,
studies,
setting
)
estimate$raw_data
estimate
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data[c(1, 10), "egocentric"] <- 1.1
estimate <- meta_proportion(
bad_r,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
View(bad_data)
esci_meta_proportion <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
egocentric = c(
33,
4,
4,
7
),
sample_size = c(
101,
33,
10,
53
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data[c(1, 10), "egocentric"] <- 1.1
estimate <- meta_proportion(
bad_r,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
esci_meta_proportion
esci_meta_proportion <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
egocentric = c(
33,
4,
4,
7
),
sample_size = c(
101,
33,
10,
53
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data[c(1, 10), "egocentric"] <- 1.1
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
library(esci4)
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data
bad_data[c(1), "egocentric"] <- NA
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
bad_data[c(1), "sample_size"] <- -1
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data[c(1), "sample_size"] <- -1
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
# Bad calls with good errors ----------------------
bad_data <- esci_meta_proportion
bad_data[c(1), "sample_size"] <- NA
estimate <- meta_proportion(
bad_data,
egocentric,
sample_size,
studies,
random_effects = FALSE,
conf_level = 0.99
)
? statpsych::ci.prop2
35/150
21/150
35/150 - 21/150
library(esci4)
esci_meta_pdiff_two <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
control_egocentric = c(
33,
4,
4,
7
),
control_sample_size = c(
101,
33,
10,
53
),
power_egocentric = c(
48,
8,
4,
11
),
power_sample_size = c(
105,
24,
12,
56
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
library(esci4)
estimate <- meta_pdiff(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
library(esci4)
library(esci4)
esci_meta_pdiff_two <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
control_egocentric = c(
33,
4,
4,
7
),
control_sample_size = c(
101,
33,
10,
53
),
power_egocentric = c(
48,
8,
4,
11
),
power_sample_size = c(
105,
24,
12,
56
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
estimate$raw_data
estimate
library(esci4)
esci_meta_pdiff_two <- data.frame(
studies = c(
"Online",
"Original",
"Online Pilot",
"Exact replication"
),
control_egocentric = c(
33,
4,
4,
7
),
control_sample_size = c(
101,
33,
10,
53
),
power_egocentric = c(
48,
8,
4,
11
),
power_sample_size = c(
105,
24,
12,
56
),
setting = as.factor(
c(
"Online",
"In-Person",
"Online",
"In-Person"
)
)
)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
es_data
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
data
library(esci4)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
es_data
es_data
es_data <- as.data.frame(
t(
apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_prop2,
conf_level = conf_level
)
)
)
es_data
es_data <- metafor::escalc(
measure = reported_effect_size,
data =  data[ , numeric_cols],
ai = comparison_cases,
ci = reference_cases,
n1i = comparison_N,
n2i = reference_N
)
es_data
library(esci4)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
estimate
library(esci4)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
better_es
es_data
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies
)
estimate$raw_data
estimate
library(esci4)
estimate <- meta_pdiff_two(
esci_meta_pdiff_two,
power_egocentric,
power_sample_size,
control_egocentric,
control_sample_size,
studies,
reported_effect_size = "OR"
)
estimate$raw_data
estimate
estimate$properties
