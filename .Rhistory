library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
View(data)
View(data)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
data
data[ , numeric_cols]
data
data
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
View(data)
# Check via metafor
meta_raw <- metafor::escalc(
measure = "MD",
data = data,
m1i = reference_mean,
m2i = comarison_mean,
sd1i = reference_sd,
sd2i = comparison_sd,
n1i = reference_n,
n2i = comparison_n
)
meta_raw <- metafor::escalc(
measure = "MD",
data = data,
m1i = reference_mean,
m2i = comparison_mean,
sd1i = reference_sd,
sd2i = comparison_sd,
n1i = reference_n,
n2i = comparison_n
)
View(meta_raw)
library(esci4)
testd <- data.frame(
cm= c(rnorm(n = 15, mean = 10, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
rm = c(rnorm(n = 15, mean = 11, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
csd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
rsd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
cn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
rn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
mod = c(rep("Group A", 15), rep("Group B", 15))
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
myrow
res
res
.2577^2
res
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
View(data)
es <- apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_mean2,
conf_level = conf_level,
assume_equal_variance = assume_equal_variance
)
es
t(es)
data[ , c("raw_yi", "raw_vi", "raw_LL", "raw_UL")] <- rbind(
data,
t(
apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_mean2,
conf_level = conf_level,
assume_equal_variance = assume_equal_variance
)
)
)
data[ , c("raw_yi", "raw_vi", "raw_LL", "raw_UL")] <- cbind(
data,
t(
apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_mean2,
conf_level = conf_level,
assume_equal_variance = assume_equal_variance
)
)
)
t(
apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_mean2,
conf_level = conf_level,
assume_equal_variance = assume_equal_variance
)
)
es <- as.data.frame(
t(
apply(
X = data[ , numeric_cols],
MARGIN = 1,
FUN = apply_ci_mean2,
conf_level = conf_level,
assume_equal_variance = assume_equal_variance
)
)
)
View(es)
library(esci4)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
View(mdiff)
View(data)
View(meta_raw)
View(meta_smd)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
data
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn, mod
)
estimate <- meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn, mod
)
estimate
estimate$raw_data
testd <- data.frame(
cm= c(rnorm(n = 15, mean = 10, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
rm = c(rnorm(n = 15, mean = 11, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
csd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
rsd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
cn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
rn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
study_name = paste("Group", seq(1:30), sep = "_"),
mod = c(rep("Group A", 15), rep("Group B", 15))
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
data
moderator
FEgtable
REgtable
library(esci4)
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
testd
class(testd$mod)
testd <- data.frame(
cm= c(rnorm(n = 15, mean = 10, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
rm = c(rnorm(n = 15, mean = 11, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
csd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
rsd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
cn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
rn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
study_name = paste("Group", seq(1:30), sep = "_"),
mod = as.factor(c(rep("Group A", 15), rep("Group B", 15)))
)
class(testd$mod)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
FEdiffs
anova(REdiffs, X=c(1,-1))
anova(FEdiffs, X=c(1,-1))
FEdiffs
FEgroups
anova(FEdiffs, X=c(0,1))
testd <- data.frame(
cm= c(rnorm(n = 15, mean = 10, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
rm = c(rnorm(n = 15, mean = 11, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
csd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
rsd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
cn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
rn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
study_name = paste("Group", seq(1:30), sep = "_"),
mod = sample(x = c("Group A", "Group B", "Group C"), size = 30, replace = TRUE)
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
FEdiffs
FEgroups
anova(FEdiffs, X = c(0, 1, 0))
anova(FEgroups, X = c(-1, 1, 0))
anova(FEgroups, X = c(1, 0, 0))
anova(FEgroups, X = c(1, -1/2, -1/2))
(-0.7103 + -0.4081)/2
-0.4311 - -0.5592
.0912 * 1.96
-0.4311 - 0.178752
-0.4311 + 0.178752
? rep
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
FEgroups
FEgroups$model
FEgroups$b
FEgroups$beta
FEgroups$vb
FEgroups$X
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
FEgroups
meta_to_table(FEgroups)
FEgroups$b
length(FEgroups$b)
cres <- anova(FEgroups, x = contrast)
contrast = rep(x = 0, times = length(FEgroups$b))
contrast[1] = -1
contrast[2] = -2
contrast = rep(x = 0, times = length(FEgroups$b))
contrast[1] = -1
contrast[2] = 1
cres <- anova(FEgroups, X = contrast)
cres
print(cres)
cat(cres)
cres$QM
cres$hyp
cres$Xb
cres$Xb[1, 1]
cres$Xb[[1, 1]]
qnorm(1-conf_level, lower.tail = TRUE)
conf_level
qnorm((1-conf_level)/2, lower.tail = FALSE)
library(esci4)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
library(esci4)
testd <- data.frame(
cm= c(rnorm(n = 15, mean = 10, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
rm = c(rnorm(n = 15, mean = 11, sd = 1), rnorm(n = 15, mean = 10, sd = 1)),
csd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
rsd = abs(rnorm(n = 30, mean = 1, sd = 0.25)),
cn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
rn = abs(round(rnorm(n=30, mean = 25, sd = 5))),
study_name = paste("Group", seq(1:30), sep = "_"),
mod = sample(x = c("Group A", "Group B", "Group C"), size = 30, replace = TRUE)
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
library(esci4)
)
meta_mdiff(
testd,
cm,
csd,
cn,
rm,
rsd,
rn,
study_name,
mod
)
